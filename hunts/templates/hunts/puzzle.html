{% extends "teams/base.html" %}
{% load staticfiles %}

{% block script %} 
<script src="{% static 'hunts/js/hunts.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.js"> <!--integrity="sha256-r7j1FXNTvPzHR41+V71Jvej6fIq4v4Kzu5ee7J/RitM=" crossorigin="anonymous">--></script>
{% endblock %}
{% block content %}
<h1>{{ title }}</h1>
{% if flavour %}
<div class="puzzle-flavour">{{ flavour | safe }}</div>
<hr class="flavour-clue-divider">
{% endif %}
<!-- CLUE STARTS HERE -->
{% comment %}Render puzzle text including HTML elements{% endcomment %}
{{ text | safe }}
<!-- CLUE ENDS HERE -->
<h2>Clues</h2>
<h3>Hints</h3>
<div id="hints">
{% for hint in hints %}
<p>{{hint.time}}: {{hint.text}}</p>
{% endfor %}
</div>
<h3>Unlocks</h3>
<div id="unlocks">
{% for unlock in unlocks %}
<p>{% for guess in unlock.guesses %}{{guess}}{% if not forloop.last %}, {% endif %}{% endfor %}: {{unlock.text}}</p>
{% endfor %}
</div>
<hr />
{% if answered %}
<h2>Your correct answer{{ answered|pluralize }}</h2>
<div id="answer">
{% for guess in answered %}
<p>"{{ guess.guess }}" &mdash; entered by {{ guess.by.user.username }}</p>
{% endfor %}
</div>
{% else %}
<form class="form-inline" action="an" method="POST">
	{% csrf_token %}
	<input name="answer" id="answer-entry" class="form-control"></input>
	<button type="submit" id="answer-button" class="btn btn-default">Guess!</button>
</form>
{% endif %}
{% if hints %}

{% endif %}
{% endblock %}
